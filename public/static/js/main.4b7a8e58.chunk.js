(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{181:function(e,t,a){e.exports=a(330)},186:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},330:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),i=a.n(o),c=(a(186),a(25)),u=a(26),s=a(77),l=a(68),d=a(79),f=a(173),m="FETCH_DATA",v="FILTER_DATA";var h=a(75),p=(a(194),a(103)),y=a(341),w=a(340),b=a(344),D=a(342),E=(a(195),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.c,{onSubmit:function(t){return e.props.filterHandler(t)}},(function(e){var t=e.formProps,a=e.dirty,n=e.submitting;return r.a.createElement("form",t,r.a.createElement("div",{className:"filter-container"},r.a.createElement("div",{className:"filter-item"},r.a.createElement(D.a,{label:"Start date",name:"end-date",defaultValue:(new Date).toLocaleDateString()},(function(e){var t=e.fieldProps;e.error,e.valid;return r.a.createElement(w.a,t)}))),r.a.createElement("div",{className:"filter-item"},r.a.createElement(D.a,{label:"End date",name:"start-date",defaultValue:(new Date).toLocaleDateString()},(function(e){var t=e.fieldProps;e.error,e.valid;return r.a.createElement(w.a,t)}))),r.a.createElement("div",{className:"filter-item"},r.a.createElement(D.a,{label:"User",name:"user",defaultValue:""},(function(e){var t=e.fieldProps;e.error,e.valid;return r.a.createElement(b.a,t)}))),r.a.createElement("div",{className:"filter-item"},r.a.createElement(D.a,{label:"Issue",name:"issue",defaultValue:""},(function(e){var t=e.fieldProps;e.error,e.valid;return r.a.createElement(b.a,t)}))),r.a.createElement("div",{className:"submit-button"},r.a.createElement(y.a,{type:"submit",appearance:"primary",isDisabled:!a||n},"Submit"))))}))}}]),t}(r.a.Component)),k=a(101),j=a.n(k),g=a(172);var O=a.n(g).a.create({baseURL:"http://localhost:3001"});function J(){var e=O.get("/users"),t=O.get("/issues");return Promise.all([e,t])}O.interceptors.request.use((function(e){return e.url=e.url+"?jwt="+window.parent.window.token,e}));var A=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"fromJson",value:function(e){return{accountType:e.accountType,accountId:e.accountId,displayName:e.displayName,isActive:e.active}}},{key:"toJson",value:function(e){throw new Error("Method not implemented.")}},{key:"parseArrayFromJson",value:function(e){var t=this,a=new Array;return e.forEach((function(e){var n=t.fromJson(e);n.isActive&&"atlassian"===n.accountType&&a.push(n)})),a}},{key:"parseArrayToJson",value:function(e){throw new Error("Method not implemented.")}}]),e}(),N=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"fromJson",value:function(e){return{key:e.key,name:e.name}}},{key:"toJson",value:function(e){throw new Error("Method not implemented.")}},{key:"parseArrayFromJson",value:function(e){var t=this,a=new Array;return e.forEach((function(e){a.push(t.fromJson(e))})),a}},{key:"parseArrayToJson",value:function(e){throw new Error("Method not implemented.")}}]),e}(),S=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"fromJson",value:function(e){var t=new A,a=new N;return{key:e.key,assignee:t.fromJson(e.fields.assignee),creator:t.fromJson(e.fields.creator),created:new Date(e.fields.created),project:a.fromJson(e.fields.project)}}},{key:"toJson",value:function(e){throw new Error("Method not implemented.")}},{key:"parseArrayFromJson",value:function(e){var t=this,a=new Array;return e.forEach((function(e){a.push(t.fromJson(e))})),a}},{key:"parseArrayToJson",value:function(e){throw new Error("Method not implemented.")}}]),e}(),T=function(){function e(){Object(c.a)(this,e),this.data=new Array,this.startDate=new Date((new Date).setDate((new Date).getDate()-1)),this.endDate=new Date((new Date).setDate((new Date).getDate()+100)),this.initData()}return Object(u.a)(e,[{key:"addUsers",value:function(e){for(var t=0;t<e.length;t++){var a=this.createCell(0,t+1,e[t].displayName);this.addCell(a)}return this}},{key:"addIssues",value:function(e){for(var t=this,a=function(a){var n=e[a],r=t.data[0].find((function(e){return e.value===n.created.toLocaleDateString()})),o=t.data.map((function(e){return e[0]})).find((function(e){return e.value===n.assignee.displayName}));if(r&&o){var i,c=r.col,u=o.row,s=t.data[u][c];i=s.value?"".concat(s.value,"\n").concat(n.key):n.key;var l=t.createCell(c,u,i);t.addCell(l)}},n=0;n<e.length;n++)a(n);return this}},{key:"build",value:function(){return this.data}},{key:"createCell",value:function(e,t,a){return{col:e,row:t,value:a}}},{key:"addCell",value:function(e){var t=e.row,a=e.col;this.data[t][a]=e}},{key:"initData",value:function(){for(var e=this.generateDates(this.startDate,this.endDate),t=0;t<100;t++){for(var a=new Array,n=0;n<100;n++){var r=void 0;r=0===t&&n>0?{row:t,col:n,value:e[n]}:{row:t,col:n,value:""},a.push(r)}this.data.push(a)}}},{key:"generateDates",value:function(e,t){for(var a=new Array,n=e;n<=t;)a.push(new Date(n).toLocaleDateString()),n.setDate(n.getDate()+1);return a}}]),e}(),C=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"loadData",value:function(){var e,t,a,n;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.awrap(J());case 2:return e=r.sent,t=(new A).parseArrayFromJson(e[0].data),a=(new S).parseArrayFromJson(e[1].data.issues),n=(new T).addUsers(t).addIssues(a).build(),r.abrupt("return",n);case 7:case"end":return r.stop()}}))}}]),e}(),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).dataService=void 0,a.filterHandler=function(e){a.props.filterData(e)},a.dataService=new C,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(E,{filterHandler:this.filterHandler})),r.a.createElement("div",{className:"roster-container"},r.a.createElement(f.a,{data:this.props.data})))}},{key:"componentWillMount",value:function(){var e=this;this.dataService.loadData().then((function(t){e.props.fetchData(t)}))}}]),t}(r.a.Component),I=Object(h.b)((function(e){return{data:e.data}}),(function(e){return{fetchData:function(t){return e(function(e){return{type:m,data:e}}(t))},filterData:function(t){return e(function(e){return{type:v,data:e}}(t))}}}))(F);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(69),L=a(102),P={data:[]};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case v:return{data:Object(L.a)(t.data)};default:return e}},U=Object(M.b)(H);i.a.render(r.a.createElement(h.a,{store:U},r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[181,1,2]]]);
//# sourceMappingURL=main.4b7a8e58.chunk.js.map