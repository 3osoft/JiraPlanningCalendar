(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{179:function(e,t,a){e.exports=a(329)},184:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},329:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),i=a.n(o),c=(a(184),a(28)),u=a(29),s=a(76),l=a(68),f=a(79),d=a(171),m="FETCH_DATA",v="FILTER_DATA";var h=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"fromJson",value:function(e){return{accountType:e.accountType,accountId:e.accountId,displayName:e.displayName,isActive:e.active}}},{key:"toJson",value:function(e){throw new Error("Method not implemented.")}},{key:"parseArrayFromJson",value:function(e){var t=this,a=new Array;return e.forEach((function(e){var n=t.fromJson(e);n.isActive&&"atlassian"===n.accountType&&a.push(n)})),a}},{key:"parseArrayToJson",value:function(e){throw new Error("Method not implemented.")}}]),e}(),p=function(){function e(){Object(c.a)(this,e),this.data=new Array,this.startDate=new Date((new Date).setDate((new Date).getDate()-1)),this.endDate=new Date((new Date).setDate((new Date).getDate()+100)),this.initData()}return Object(u.a)(e,[{key:"addUsers",value:function(e){for(var t=0;t<e.length;t++){var a=this.createCell(0,t+1,e[t].displayName);this.addCell(a)}return this}},{key:"addIssues",value:function(e){for(var t=this,a=function(a){var n=e[a],r=t.data[0].find((function(e){return e.value===n.created.toLocaleDateString()})),o=t.data.map((function(e){return e[a]})).find((function(e){return e.value===n.assignee.displayName})),i=n.key;if(r&&o){var c=t.createCell(r.col,o.row,i);t.addCell(c)}},n=0;n<e.length;n++)a(n);return this}},{key:"build",value:function(){return this.data}},{key:"createCell",value:function(e,t,a){return{col:e,row:t,value:a}}},{key:"addCell",value:function(e){var t=e.row,a=e.col;this.data[t][a]=e}},{key:"initData",value:function(){for(var e=this.generateDates(this.startDate,this.endDate),t=0;t<100;t++){for(var a=new Array,n=0;n<100;n++){var r=void 0;r=0===t&&n>0?{row:t,col:n,value:e[n]}:{row:t,col:n,value:""},a.push(r)}this.data.push(a)}}},{key:"generateDates",value:function(e,t){for(var a=new Array,n=e;n<=t;)a.push(new Date(n).toLocaleDateString()),n.setDate(n.getDate()+1);return a}}]),e}(),y=a(157);var w=a.n(y).a.create({baseURL:"http://localhost:3001"});w.interceptors.request.use((function(e){return e.url=e.url+"?jwt="+window.parent.window.token,e}));var b=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"fromJson",value:function(e){return{key:e.key,name:e.name}}},{key:"toJson",value:function(e){throw new Error("Method not implemented.")}},{key:"parseArrayFromJson",value:function(e){var t=this,a=new Array;return e.forEach((function(e){a.push(t.fromJson(e))})),a}},{key:"parseArrayToJson",value:function(e){throw new Error("Method not implemented.")}}]),e}(),D=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"fromJson",value:function(e){var t=new h,a=new b;return{key:e.key,assignee:t.fromJson(e.fields.assignee),creator:t.fromJson(e.fields.creator),created:new Date(e.fields.created),project:a.fromJson(e.fields.project)}}},{key:"toJson",value:function(e){throw new Error("Method not implemented.")}},{key:"parseArrayFromJson",value:function(e){var t=this,a=new Array;return e.forEach((function(e){a.push(t.fromJson(e))})),a}},{key:"parseArrayToJson",value:function(e){throw new Error("Method not implemented.")}}]),e}(),E=a(75),k=(a(209),a(102)),g=a(340),j=a(339),J=a(343),A=a(344),O=(a(210),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(k.c,{onSubmit:function(t){return e.props.filterHandler(t)}},(function(e){var t=e.formProps,a=e.dirty,n=e.submitting;return r.a.createElement("form",t,r.a.createElement("div",{className:"filter-container"},r.a.createElement("div",{className:"filter-item"},r.a.createElement(A.a,{label:"Start date",name:"start-date",defaultValue:(new Date).toLocaleDateString()},(function(e){var t=e.fieldProps;e.error,e.valid;return r.a.createElement(j.a,t)}))),r.a.createElement("div",{className:"filter-item"},r.a.createElement(A.a,{label:"User",name:"user",defaultValue:""},(function(e){var t=e.fieldProps;e.error,e.valid;return r.a.createElement(J.a,t)}))),r.a.createElement("div",{className:"filter-item"},r.a.createElement(A.a,{label:"Issue",name:"issue",defaultValue:""},(function(e){var t=e.fieldProps;e.error,e.valid;return r.a.createElement(J.a,t)}))),r.a.createElement("div",{className:"submit-button"},r.a.createElement(g.a,{type:"submit",appearance:"primary",isDisabled:!a||n},"Submit"))))}))}}]),t}(r.a.Component)),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).filterHandler=function(e){a.props.filterData(e)},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(O,{filterHandler:this.filterHandler})),r.a.createElement("div",{className:"roster-container"},r.a.createElement(d.a,{data:this.props.data})))}},{key:"componentWillMount",value:function(){var e=this;(function(){var e=w.get("/users"),t=w.get("/issues");return Promise.all([e,t])})().then((function(t){console.log(t);var a=(new h).parseArrayFromJson(t[0].data),n=(new D).parseArrayFromJson(t[1].data.issues);console.log(a),console.log(n);var r=(new p).addUsers(a).addIssues(n).build();e.props.fetchData(r)}),(function(e){console.log(e)}))}}]),t}(r.a.Component),T=Object(E.b)((function(e){return{data:e.data}}),(function(e){return{fetchData:function(t){return e(function(e){return{type:m,data:e}}(t))},filterData:function(t){return e(function(e){return{type:v,data:e}}(t))}}}))(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(69),F=a(101),I={data:[]};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case v:return{data:Object(F.a)(t.data)};default:return e}},S=Object(C.b)(M);i.a.render(r.a.createElement(E.a,{store:S},r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[179,1,2]]]);
//# sourceMappingURL=main.17021759.chunk.js.map